<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 16</title>
</head>

<body>
    Nome do produto: <input type="text" id="iptNome"> <br>
    Preço de compra: <input type="text" id="iptCompra"> <br>
    <button onclick="cadastrar()">Cadastrar</button><br>
    <button onclick="relatar()">Relatório estoque</button>
    <div id="divMsg"></div>
</body>

</html>

<script>
    var listaProduto = [];
    var listaCompra = [];

    function cadastrar() {
        var nome = iptNome.value
        var compra = Number(iptCompra.value)

        listaProduto.push(nome)
        listaCompra.push(compra)

    }

    function relatar() {
        var total = listaProduto.length
        var msgProduto = ''
        var msgCompra = ''
        var maisCaro = listaCompra[0]
        var maisBarato = listaCompra[0]
        var produtoCaro = 0;
        var produtoBarato = 0;
        var valorEstoque = 0;
        var venda=0;
        var vendaTotal=0;



        divMsg.innerHTML = ""

        divMsg.innerHTML = `Total:${total}<br>`

        for (var i = 0; i < total; i++) {
            var produtoAtual = listaProduto[i]
            var precoAtual = listaCompra[i]
            valorEstoque += precoAtual
            venda=precoAtual*1.25
            vendaTotal+=venda

            if (precoAtual > maisCaro) {
                maisCaro = precoAtual
                produtoCaro = i
            } else if (precoAtual > maisBarato) {
                maisBarato = precoAtual
                produtoBarato = i
            }

            divMsg.innerHTML += `
            <br>Produto ${i + 1}: ${produtoAtual}<br>

            Preço de compra: R$${precoAtual}. Vender por R$${venda}<br>` 
            
            var media= vendaTotal/total

        }


        divMsg.innerHTML += `<br>
        Produto mais caro: ${listaProduto[produtoCaro]} <br>
        
        Produto mais barato: ${listaProduto[produtoBarato]}<br>
        
        Valor estoque: ${valorEstoque}<br>
        
        Média: ${media}`



    }
</script>